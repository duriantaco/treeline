# Project Analysis Report

## Code Structure Visualization

The following diagrams show the project structure from different perspectives:

### Module Dependencies
Overview of how modules are connected:

```mermaid
graph TD

    %% Styling
    classDef modNode fill:#b7e2d8,stroke:#333,stroke-width:2px

    setup["setup"]:::modNode
    tests_test_security_detection["tests.test_security_detection"]:::modNode
    tests_test_special_char["tests.test_special_char"]:::modNode
    tests_test_missing_dir["tests.test_missing_dir"]:::modNode
    tests_test_empty_dir["tests.test_empty_dir"]:::modNode
    tests_test_core["tests.test_core"]:::modNode
    tests_test_treeline["tests.test_treeline"]:::modNode
    tests_test_nested_dir["tests.test_nested_dir"]:::modNode
    treeline_type_checker["treeline.type_checker"]:::modNode
    treeline_dependency_analyzer["treeline.dependency_analyzer"]:::modNode
    treeline_analyzer["treeline.analyzer"]:::modNode
    treeline___init__["treeline.__init__"]:::modNode
    treeline_enhanced_analyzer["treeline.enhanced_analyzer"]:::modNode
    treeline_core["treeline.core"]:::modNode
    treeline_security_analyzer["treeline.security_analyzer"]:::modNode
    treeline___main__["treeline.__main__"]:::modNode

    tests_test_security_detection --> treeline_security_analyzer
    tests_test_special_char --> treeline_core
    tests_test_missing_dir --> treeline_core
    tests_test_empty_dir --> treeline_core
    tests_test_core --> treeline_core
    tests_test_nested_dir --> treeline_core
    treeline_analyzer --> treeline_type_checker
    treeline_core --> treeline_enhanced_analyzer
    treeline_core --> treeline_type_checker
    treeline_core --> treeline_dependency_analyzer
    treeline___main__ --> treeline_core
```

### treeline.__init__

```mermaid
graph TD

    %% Styling
    classDef fnNode fill:#e4d1d1,stroke:#333
    classDef clsNode fill:#d1e0e4,stroke:#333

    subgraph treeline___init__["treeline.__init__"]
        direction TB
        treeline___init_____call__["âš¡ __call__"]:::fnNode
    end

```

### treeline.__main__

```mermaid
graph TD

    %% Styling
    classDef fnNode fill:#e4d1d1,stroke:#333
    classDef clsNode fill:#d1e0e4,stroke:#333

    subgraph treeline___main__["treeline.__main__"]
        direction TB
    end

```

### treeline.analyzer

```mermaid
graph TD

    %% Styling
    classDef fnNode fill:#e4d1d1,stroke:#333
    classDef clsNode fill:#d1e0e4,stroke:#333

    subgraph treeline_analyzer["treeline.analyzer"]
        direction TB
        treeline_analyzer_FunctionCall["ðŸ“¦ FunctionCall"]:::clsNode
        treeline_analyzer_CodeStructure["ðŸ“¦ CodeStructure"]:::clsNode
        treeline_analyzer_FunctionNode["ðŸ“¦ FunctionNode"]:::clsNode
        treeline_analyzer_ClassNode["ðŸ“¦ ClassNode"]:::clsNode
        treeline_analyzer_AnalyzerConfig["ðŸ“¦ AnalyzerConfig"]:::clsNode
        treeline_analyzer_CodeAnalyzer["ðŸ“¦ CodeAnalyzer"]:::clsNode
        treeline_analyzer_CodeAnalyzer___init__["âš¡ __init__"]:::fnNode
        treeline_analyzer_CodeAnalyzer --> treeline_analyzer_CodeAnalyzer___init__
        treeline_analyzer_CodeAnalyzer_analyze_file["âš¡ analyze_file"]:::fnNode
        treeline_analyzer_CodeAnalyzer --> treeline_analyzer_CodeAnalyzer_analyze_file
        treeline_analyzer_CodeAnalyzer__get_function_params["âš¡ _get_function_params"]:::fnNode
        treeline_analyzer_CodeAnalyzer --> treeline_analyzer_CodeAnalyzer__get_function_params
        treeline_analyzer_CodeAnalyzer__find_function_calls["âš¡ _find_function_calls"]:::fnNode
        treeline_analyzer_CodeAnalyzer --> treeline_analyzer_CodeAnalyzer__find_function_calls
        treeline_analyzer_CodeAnalyzer_get_symbol["âš¡ get_symbol"]:::fnNode
        treeline_analyzer_CodeAnalyzer --> treeline_analyzer_CodeAnalyzer_get_symbol
        treeline_analyzer_CodeAnalyzer_format_structure["âš¡ format_structure"]:::fnNode
        treeline_analyzer_CodeAnalyzer --> treeline_analyzer_CodeAnalyzer_format_structure
    end

```

### treeline.core

```mermaid
graph TD

    %% Styling
    classDef fnNode fill:#e4d1d1,stroke:#333
    classDef clsNode fill:#d1e0e4,stroke:#333

    subgraph treeline_core["treeline.core"]
        direction TB
        treeline_core_CodeStructure["ðŸ“¦ CodeStructure"]:::clsNode
        treeline_core_TreeOptions["ðŸ“¦ TreeOptions"]:::clsNode
        treeline_core_ModuleMetrics["ðŸ“¦ ModuleMetrics"]:::clsNode
        treeline_core_create_default_ignore["âš¡ create_default_ignore"]:::fnNode
        treeline_core_read_ignore_patterns["âš¡ read_ignore_patterns"]:::fnNode
        treeline_core_should_ignore["âš¡ should_ignore"]:::fnNode
        treeline_core_clean_for_markdown["âš¡ clean_for_markdown"]:::fnNode
        treeline_core_format_structure["âš¡ format_structure"]:::fnNode
        treeline_core_generate_markdown_report["âš¡ generate_markdown_report"]:::fnNode
        treeline_core_generate_tree["âš¡ generate_tree"]:::fnNode
        treeline_core_main["âš¡ main"]:::fnNode
    end

    treeline_core_main -.->|calls| treeline_core_generate_tree
    treeline_core_generate_markdown_report -.->|calls| treeline_core_clean_for_markdown
    treeline_core_generate_tree -.->|calls| treeline_core_read_ignore_patterns
    treeline_core_generate_tree -.->|calls| treeline_core_generate_markdown_report
    treeline_core_generate_tree -.->|calls| treeline_core_should_ignore
    treeline_core_main -.->|calls| treeline_core_create_default_ignore
```

### treeline.dependency_analyzer

```mermaid
graph TD

    %% Styling
    classDef fnNode fill:#e4d1d1,stroke:#333
    classDef clsNode fill:#d1e0e4,stroke:#333

    subgraph treeline_dependency_analyzer["treeline.dependency_analyzer"]
        direction TB
        treeline_dependency_analyzer_ModuleDependencyAnalyzer["ðŸ“¦ ModuleDependencyAnalyzer"]:::clsNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer___init__["âš¡ __init__"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer___init__
        treeline_dependency_analyzer_ModuleDependencyAnalyzer_analyze_directory["âš¡ analyze_directory"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer_analyze_directory
        treeline_dependency_analyzer_ModuleDependencyAnalyzer__analyze_module["âš¡ _analyze_module"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer__analyze_module
        treeline_dependency_analyzer_ModuleDependencyAnalyzer__analyze_imports["âš¡ _analyze_imports"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer__analyze_imports
        treeline_dependency_analyzer_ModuleDependencyAnalyzer__collect_metrics["âš¡ _collect_metrics"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer__collect_metrics
        treeline_dependency_analyzer_ModuleDependencyAnalyzer__calculate_complexity["âš¡ _calculate_complexity"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer__calculate_complexity
        treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_module_overview_diagram["âš¡ generate_module_overview_diagram"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_module_overview_diagram
        treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_module_detail_diagram["âš¡ generate_module_detail_diagram"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_module_detail_diagram
        treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_mermaid_graphs["âš¡ generate_mermaid_graphs"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_mermaid_graphs
        treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_html_visualization["âš¡ generate_html_visualization"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_html_visualization
        treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_summary_report["âš¡ generate_summary_report"]:::fnNode
        treeline_dependency_analyzer_ModuleDependencyAnalyzer --> treeline_dependency_analyzer_ModuleDependencyAnalyzer_generate_summary_report
    end

```

### treeline.enhanced_analyzer

```mermaid
graph TD

    %% Styling
    classDef fnNode fill:#e4d1d1,stroke:#333
    classDef clsNode fill:#d1e0e4,stroke:#333

    subgraph treeline_enhanced_analyzer["treeline.enhanced_analyzer"]
        direction TB
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer["ðŸ“¦ EnhancedCodeAnalyzer"]:::clsNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer___init__["âš¡ __init__"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer___init__
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer_analyze_file["âš¡ analyze_file"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer_analyze_file
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_maintainability_index["âš¡ _calculate_maintainability_index"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_maintainability_index
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_cognitive_load["âš¡ _calculate_cognitive_load"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_cognitive_load
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__check_function_metrics["âš¡ _check_function_metrics"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__check_function_metrics
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_cyclomatic_complexity["âš¡ _calculate_cyclomatic_complexity"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_cyclomatic_complexity
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_cognitive_complexity["âš¡ _calculate_cognitive_complexity"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_cognitive_complexity
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_file_metrics["âš¡ _analyze_file_metrics"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_file_metrics
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__read_file["âš¡ _read_file"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__read_file
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__parse_content["âš¡ _parse_content"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__parse_content
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_code_elements["âš¡ _analyze_code_elements"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_code_elements
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_class["âš¡ _analyze_class"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_class
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__check_class_metrics["âš¡ _check_class_metrics"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__check_class_metrics
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer_format_structure["âš¡ format_structure"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer_format_structure
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__format_metrics_section["âš¡ _format_metrics_section"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__format_metrics_section
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_function["âš¡ _analyze_function"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_function
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_class_metrics["âš¡ _calculate_class_metrics"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_class_metrics
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_function_metrics["âš¡ _calculate_function_metrics"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_function_metrics
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_complexity["âš¡ _calculate_complexity"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_complexity
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_nested_depth["âš¡ _calculate_nested_depth"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__calculate_nested_depth
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_code_duplication["âš¡ _analyze_code_duplication"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_code_duplication
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_imports["âš¡ _analyze_imports"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_imports
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_inheritance["âš¡ _analyze_inheritance"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__analyze_inheritance
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__add_issue["âš¡ _add_issue"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__add_issue
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer_generate_report["âš¡ generate_report"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer_generate_report
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__format_report_sections["âš¡ _format_report_sections"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__format_report_sections
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__format_overview_section["âš¡ _format_overview_section"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__format_overview_section
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer__format_issues_section["âš¡ _format_issues_section"]:::fnNode
        treeline_enhanced_analyzer_EnhancedCodeAnalyzer --> treeline_enhanced_analyzer_EnhancedCodeAnalyzer__format_issues_section
    end

```

### treeline.security_analyzer

```mermaid
graph TD

    %% Styling
    classDef fnNode fill:#e4d1d1,stroke:#333
    classDef clsNode fill:#d1e0e4,stroke:#333

    subgraph treeline_security_analyzer["treeline.security_analyzer"]
        direction TB
        treeline_security_analyzer_TreelineSecurity["ðŸ“¦ TreelineSecurity"]:::clsNode
        treeline_security_analyzer_TreelineSecurity___init__["âš¡ __init__"]:::fnNode
        treeline_security_analyzer_TreelineSecurity --> treeline_security_analyzer_TreelineSecurity___init__
        treeline_security_analyzer_TreelineSecurity_analyze_file["âš¡ analyze_file"]:::fnNode
        treeline_security_analyzer_TreelineSecurity --> treeline_security_analyzer_TreelineSecurity_analyze_file
        treeline_security_analyzer_TreelineSecurity__collect_imports["âš¡ _collect_imports"]:::fnNode
        treeline_security_analyzer_TreelineSecurity --> treeline_security_analyzer_TreelineSecurity__collect_imports
        treeline_security_analyzer_TreelineSecurity__scan_security_issues["âš¡ _scan_security_issues"]:::fnNode
        treeline_security_analyzer_TreelineSecurity --> treeline_security_analyzer_TreelineSecurity__scan_security_issues
        treeline_security_analyzer_TreelineSecurity__check_all_dangerous_calls["âš¡ _check_all_dangerous_calls"]:::fnNode
        treeline_security_analyzer_TreelineSecurity --> treeline_security_analyzer_TreelineSecurity__check_all_dangerous_calls
        treeline_security_analyzer_TreelineSecurity__check_string_concat["âš¡ _check_string_concat"]:::fnNode
        treeline_security_analyzer_TreelineSecurity --> treeline_security_analyzer_TreelineSecurity__check_string_concat
        treeline_security_analyzer_TreelineSecurity__check_hardcoded_secrets["âš¡ _check_hardcoded_secrets"]:::fnNode
        treeline_security_analyzer_TreelineSecurity --> treeline_security_analyzer_TreelineSecurity__check_hardcoded_secrets
        treeline_security_analyzer_TreelineSecurity__add_issue["âš¡ _add_issue"]:::fnNode
        treeline_security_analyzer_TreelineSecurity --> treeline_security_analyzer_TreelineSecurity__add_issue
    end

```

### treeline.type_checker

```mermaid
graph TD

    %% Styling
    classDef fnNode fill:#e4d1d1,stroke:#333
    classDef clsNode fill:#d1e0e4,stroke:#333

    subgraph treeline_type_checker["treeline.type_checker"]
        direction TB
        treeline_type_checker_ValidationError["ðŸ“¦ ValidationError"]:::clsNode
        treeline_type_checker_TypeValidator["ðŸ“¦ TypeValidator"]:::clsNode
        treeline_type_checker_TypeValidator_validate["âš¡ validate"]:::fnNode
        treeline_type_checker_TypeValidator --> treeline_type_checker_TypeValidator_validate
        treeline_type_checker_ValidatedModel["ðŸ“¦ ValidatedModel"]:::clsNode
        treeline_type_checker_ValidatedModel___post_init__["âš¡ __post_init__"]:::fnNode
        treeline_type_checker_ValidatedModel --> treeline_type_checker_ValidatedModel___post_init__
    end

```
## Directory Structure

```

â”œâ”€ docs
â”‚ â”œâ”€ code_visualization.html
â”‚ â”œâ”€ index.html
â”‚ â””â”€ tree.md
â”œâ”€ example
â”‚ â”œâ”€ tree.md
â”‚ â””â”€ tut1.ipynb
â”œâ”€ tests
â”‚ â”œâ”€ test_core.py
â”‚ â”‚   **Class**: â—† TestTreeGenerator
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   **Function**: â†’ setUp
â”‚ â”‚   **Function**: â†’ tearDown
â”‚ â”‚   **Function**: â†’ test_tree_structure
â”‚ â”‚   â””â”€ # Test if the tree structure is generated correctly
â”‚ â”‚   **Function**: â†’ test_markdown_creation
â”‚ â”‚   â””â”€ # Test if markdown file is created when flag is True
â”‚ â”œâ”€ test_empty_dir.py
â”‚ â”‚   **Function**: â†’ test_empty_directory
â”‚ â”‚   â””â”€ # Test handling of empty directory
â”‚ â”œâ”€ test_missing_dir.py
â”‚ â”‚   **Function**: â†’ test_non_existent_directory
â”‚ â”‚   â””â”€ # Test handling of non-existent directory
â”‚ â”œâ”€ test_nested_dir.py
â”‚ â”‚   **Function**: â†’ test_nested_directories
â”‚ â”‚   â””â”€ # Test handling of nested directories
â”‚ â”œâ”€ test_security_detection.py
â”‚ â”‚   **Class**: â—† TestTreelineSecurity
â”‚ â”‚   â””â”€ ! High complexity (11)
â”‚ â”‚   â””â”€ ! Too long (72 lines)
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   **Function**: â†’ setUp
â”‚ â”‚   **Function**: â†’ create_test_file
â”‚ â”‚   â””â”€ # Helper method to create a temporary test file.
â”‚ â”‚   **Function**: â†’ debug_ast
â”‚ â”‚   â””â”€ # Helper to print AST for debugging
â”‚ â”‚   **Function**: â†’ test_sql_injection_detection
â”‚ â”‚   **Function**: â†’ test_command_injection_detection
â”‚ â”‚   **Function**: â†’ test_unsafe_deserialization_detection
â”‚ â”‚   **Function**: â†’ test_hardcoded_secret_detection
â”‚ â”‚   **Function**: â†’ test_file_operation_detection
â”‚ â”‚   **Function**: â†’ tearDown
â”‚ â”œâ”€ test_special_char.py
â”‚ â”‚   **Function**: â†’ test_special_characters
â”‚ â”‚   â””â”€ # Test handling of special characters in names
â”‚ â””â”€ test_treeline.py
â”‚     **Class**: â—† TestTreeLine
â”‚     â””â”€ ! Missing class docstring
â”‚     **Function**: â†’ setUp
â”‚     **Function**: â†’ tearDown
â”‚     **Function**: â†’ test_basic_tree
â”‚     â””â”€ # Test if tree structure is generated correctly
â”œâ”€ treeline
â”‚ â”œâ”€ __init__.py
â”‚ â”‚   **Function**: â†’ __call__
â”‚ â”œâ”€ __main__.py
â”‚ â”œâ”€ analyzer.py
â”‚ â”‚   **Class**: â—† FunctionCall
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚ â”‚   **Class**: â—† CodeStructure
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚ â”‚   **Class**: â—† FunctionNode
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚ â”‚   **Class**: â—† ClassNode
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚ â”‚   **Class**: â—† AnalyzerConfig
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚ â”‚   **Class**: â—† CodeAnalyzer
â”‚ â”‚   â””â”€ # Simple analyzer for extracting functions and classes from Python files.
â”‚ â”‚   â””â”€ ! High complexity (32)
â”‚ â”‚   â””â”€ ! Too long (162 lines)
â”‚ â”‚   **Function**: â†’ __init__
â”‚ â”‚   **Function**: â†’ analyze_file
â”‚ â”‚   â””â”€ # Extracts functions and classes with optional params and relationships.
â”‚ â”‚   â””â”€ ! Too long (65 lines)
â”‚ â”‚   â””â”€ ! Deep nesting (depth 6)
â”‚ â”‚   â””â”€ ! Function exceeds 50 lines
â”‚ â”‚   â””â”€ ! Excessive nesting depth (> 4)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ _get_function_params
â”‚ â”‚   â””â”€ # Extract function parameters with type hints.
â”‚ â”‚   **Function**: â†’ _find_function_calls
â”‚ â”‚   **Function**: â†’ get_symbol
â”‚ â”‚   â””â”€ # Maps item types to their display symbols.
â”‚ â”‚   **Function**: â†’ format_structure
â”‚ â”‚   â””â”€ # Formats the code structure into displayable lines with colors and prefixes.
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”œâ”€ core.py
â”‚ â”‚   **Class**: â—† CodeStructure
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚ â”‚   **Class**: â—† TreeOptions
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚ â”‚   **Class**: â—† ModuleMetrics
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚ â”‚   **Function**: â†’ create_default_ignore
â”‚ â”‚   â””â”€ # Create default .treeline-ignore if it doesn't exist
â”‚ â”‚   **Function**: â†’ read_ignore_patterns
â”‚ â”‚   â””â”€ # Read patterns from .treeline-ignore file
â”‚ â”‚   **Function**: â†’ should_ignore
â”‚ â”‚   â””â”€ # Check if path should be ignored based on patterns
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ clean_for_markdown
â”‚ â”‚   â””â”€ # Remove ANSI colors and simplify symbols for markdown.
â”‚ â”‚   **Function**: â†’ format_structure
â”‚ â”‚   â””â”€ # Format the analysis results into a readable tree structure.
â”‚ â”‚    Args:
â”‚ â”‚    structure: List of analysis results
â”‚ â”‚    indent: String to use for indentation
â”‚ â”‚    Returns:
â”‚ â”‚    List of formatted strings representing the code structure
â”‚ â”‚   â””â”€ ! High complexity (13)
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ generate_markdown_report
â”‚ â”‚   â””â”€ # Generate a markdown report with tree structure and analysis results.
â”‚ â”‚   **Function**: â†’ generate_tree
â”‚ â”‚   â””â”€ # Generate tree structure with code quality and security analysis.
â”‚ â”‚   â””â”€ ! High complexity (13)
â”‚ â”‚   â””â”€ ! Too long (59 lines)
â”‚ â”‚   â””â”€ ! Deep nesting (depth 7)
â”‚ â”‚   â””â”€ ! Function exceeds 50 lines
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! Excessive nesting depth (> 4)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ main
â”‚ â”‚   **Function**: â†’ add_directory
â”‚ â”‚   â””â”€ ! Deep nesting (depth 7)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! Excessive nesting depth (> 4)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”œâ”€ default_ignore
â”‚ â”œâ”€ dependency_analyzer.py
â”‚ â”‚   **Class**: â—† ModuleDependencyAnalyzer
â”‚ â”‚   â””â”€ # Analyzes module-level dependencies and generates summary reports.
â”‚ â”‚   â””â”€ ! High complexity (92)
â”‚ â”‚   â””â”€ ! Too long (811 lines)
â”‚ â”‚   â””â”€ ! Class too long
â”‚ â”‚   â””â”€ ! Too many methods
â”‚ â”‚   â””â”€ ! High class complexity
â”‚ â”‚   **Function**: â†’ __init__
â”‚ â”‚   â””â”€ ! Too long (379 lines)
â”‚ â”‚   â””â”€ ! Function exceeds 50 lines
â”‚ â”‚   **Function**: â†’ analyze_directory
â”‚ â”‚   â””â”€ # Analyze all Python files in directory.
â”‚ â”‚   **Function**: â†’ _analyze_module
â”‚ â”‚   â””â”€ # Analyze a single module's contents and relationships.
â”‚ â”‚   â””â”€ ! High complexity (15)
â”‚ â”‚   â””â”€ ! Deep nesting (depth 7)
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! Excessive nesting depth (> 4)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ _analyze_imports
â”‚ â”‚   â””â”€ # Collect import information from AST.
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ _collect_metrics
â”‚ â”‚   â””â”€ # Collect code metrics for the module.
â”‚ â”‚   **Function**: â†’ _calculate_complexity
â”‚ â”‚   â””â”€ # Calculate cyclomatic complexity.
â”‚ â”‚   **Function**: â†’ generate_module_overview_diagram
â”‚ â”‚   â””â”€ # Generate a Mermaid diagram showing modules and their relationships.
â”‚ â”‚   **Function**: â†’ generate_module_detail_diagram
â”‚ â”‚   â””â”€ # Generate a Mermaid diagram showing functions and classes in a module.
â”‚ â”‚   â””â”€ ! High complexity (17)
â”‚ â”‚   â””â”€ ! Deep nesting (depth 5)
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! Excessive nesting depth (> 4)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ generate_mermaid_graphs
â”‚ â”‚   â””â”€ # Generate a markdown report with multiple focused Mermaid graphs.
â”‚ â”‚   **Function**: â†’ generate_html_visualization
â”‚ â”‚   â””â”€ # Generate an interactive HTML visualization using D3.js
â”‚ â”‚   â””â”€ ! High complexity (18)
â”‚ â”‚   â””â”€ ! Too long (111 lines)
â”‚ â”‚   â””â”€ ! Function exceeds 50 lines
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ generate_summary_report
â”‚ â”‚   â””â”€ # Generate a readable markdown report with a link to the interactive visualization.
â”‚ â”‚   â””â”€ ! High complexity (14)
â”‚ â”‚   â””â”€ ! Too long (56 lines)
â”‚ â”‚   â””â”€ ! Deep nesting (depth 6)
â”‚ â”‚   â””â”€ ! Function exceeds 50 lines
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! Excessive nesting depth (> 4)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”œâ”€ enhanced_analyzer.py
â”‚ â”‚   **Class**: â—† EnhancedCodeAnalyzer
â”‚ â”‚   â””â”€ # Enhanced analyzer for code quality and maintainability metrics.
â”‚ â”‚    This analyzer implements industry-standard code quality checks and metrics
â”‚ â”‚    following Clean Code principles, SOLID principles, and PEP 8 standards.
â”‚ â”‚   â””â”€ ! High complexity (123)
â”‚ â”‚   â””â”€ ! Too long (530 lines)
â”‚ â”‚   â””â”€ ! Class too long
â”‚ â”‚   â””â”€ ! Too many methods
â”‚ â”‚   â””â”€ ! High class complexity
â”‚ â”‚   **Function**: â†’ __init__
â”‚ â”‚   â””â”€ # Initialize the code analyzer.
â”‚ â”‚    Args:
â”‚ â”‚    show_params: Whether to show function parameters in analysis
â”‚ â”‚   **Function**: â†’ analyze_file
â”‚ â”‚   â””â”€ # Analyze a Python file for code quality metrics.
â”‚ â”‚    Args:
â”‚ â”‚    file_path: Path to the Python file to analyze
â”‚ â”‚    Returns:
â”‚ â”‚    List of analysis results for each code element
â”‚ â”‚   **Function**: â†’ _calculate_maintainability_index
â”‚ â”‚   â””â”€ # Calculate Maintainability Index (MI) following Microsoft's formula.
â”‚ â”‚    MI = max(0, (171 - 5.2 * ln(HV) - 0.23 * CC - 16.2 * ln(LOC)) * 100 / 171)
â”‚ â”‚    where:
â”‚ â”‚    - HV = Halstead Volume
â”‚ â”‚    - CC = Cyclomatic Complexity
â”‚ â”‚    - LOC = Lines of Code
â”‚ â”‚   **Function**: â†’ _calculate_cognitive_load
â”‚ â”‚   â””â”€ # Counts control structures and parameters as cognitive items.
â”‚ â”‚   **Function**: â†’ _check_function_metrics
â”‚ â”‚   â””â”€ # Check function metrics against quality thresholds.
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ _calculate_cyclomatic_complexity
â”‚ â”‚   â””â”€ # Calculate McCabe's cyclomatic complexity.
â”‚ â”‚    Based on McCabe, 1976 and implementation in Radon/SonarQube.
â”‚ â”‚   **Function**: â†’ _calculate_cognitive_complexity
â”‚ â”‚   â””â”€ # Calculate cognitive complexity based on SonarQube's metric.
â”‚ â”‚    Implements SonarSource's cognitive complexity calculation.
â”‚ â”‚   **Function**: â†’ _analyze_file_metrics
â”‚ â”‚   â””â”€ # Analyze file-level metrics including style, duplication, imports, and documentation.
â”‚ â”‚    Args:
â”‚ â”‚    content: File content as string
â”‚ â”‚    file_path: Path to the file being analyzed
â”‚ â”‚   â””â”€ ! High complexity (13)
â”‚ â”‚   â””â”€ ! Too long (63 lines)
â”‚ â”‚   â””â”€ ! Function exceeds 50 lines
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ _read_file
â”‚ â”‚   â””â”€ # Read and return file content safely.
â”‚ â”‚   **Function**: â†’ _parse_content
â”‚ â”‚   â””â”€ # Parse Python content into AST safely.
â”‚ â”‚   **Function**: â†’ _analyze_code_elements
â”‚ â”‚   â””â”€ # Analyze individual code elements in the AST.
â”‚ â”‚   **Function**: â†’ _analyze_class
â”‚ â”‚   â””â”€ # Analyze a class's quality metrics.
â”‚ â”‚   **Function**: â†’ _check_class_metrics
â”‚ â”‚   â””â”€ # Check class metrics against quality thresholds.
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ format_structure
â”‚ â”‚   â””â”€ # Format the analysis results into a tree structure.
â”‚ â”‚   â””â”€ ! High complexity (15)
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ _format_metrics_section
â”‚ â”‚   â””â”€ # Format the metrics section of the report.
â”‚ â”‚   **Function**: â†’ _analyze_function
â”‚ â”‚   â””â”€ # Analyze a function's quality metrics.
â”‚ â”‚   **Function**: â†’ _calculate_class_metrics
â”‚ â”‚   â””â”€ # Calculate comprehensive metrics for a class.
â”‚ â”‚   **Function**: â†’ _calculate_function_metrics
â”‚ â”‚   â””â”€ # Calculate comprehensive function metrics.
â”‚ â”‚   **Function**: â†’ _calculate_complexity
â”‚ â”‚   â””â”€ # Calculate cyclomatic complexity of code.
â”‚ â”‚   **Function**: â†’ _calculate_nested_depth
â”‚ â”‚   â””â”€ # Calculate maximum nesting depth in code.
â”‚ â”‚   **Function**: â†’ _analyze_code_duplication
â”‚ â”‚   â””â”€ # Analyze code for duplication using line-based comparison.
â”‚ â”‚   **Function**: â†’ _analyze_imports
â”‚ â”‚   â””â”€ # Analyze import statements and module dependencies.
â”‚ â”‚   **Function**: â†’ _analyze_inheritance
â”‚ â”‚   â””â”€ # Analyze class inheritance depth and hierarchy.
â”‚ â”‚   **Function**: â†’ _add_issue
â”‚ â”‚   â””â”€ # Add a quality issue to the collection.
â”‚ â”‚    Args:
â”‚ â”‚    category: The category of the issue
â”‚ â”‚    description: Description of the issue
â”‚ â”‚    file_path: Optional path to the file where the issue was found
â”‚ â”‚    line: Optional line number where the issue was found
â”‚ â”‚   **Function**: â†’ generate_report
â”‚ â”‚   â””â”€ # Generate a formatted quality report.
â”‚ â”‚   **Function**: â†’ _format_report_sections
â”‚ â”‚   â””â”€ # Format and combine report sections.
â”‚ â”‚   **Function**: â†’ _format_overview_section
â”‚ â”‚   â””â”€ # Format the report overview section.
â”‚ â”‚   **Function**: â†’ _format_issues_section
â”‚ â”‚   â””â”€ # Format the quality issues section.
â”‚ â”‚   **Function**: â†’ walk_cognitive
â”‚ â”‚   **Function**: â†’ get_depth
â”‚ â”‚   **Function**: â†’ get_inheritance_depth
â”‚ â”œâ”€ security_analyzer.py
â”‚ â”‚   **Class**: â—† TreelineSecurity
â”‚ â”‚   â””â”€ ! High complexity (46)
â”‚ â”‚   â””â”€ ! Too long (168 lines)
â”‚ â”‚   â””â”€ ! Missing class docstring
â”‚ â”‚   **Function**: â†’ __init__
â”‚ â”‚   **Function**: â†’ analyze_file
â”‚ â”‚   **Function**: â†’ _collect_imports
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   **Function**: â†’ _scan_security_issues
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ _check_all_dangerous_calls
â”‚ â”‚   â””â”€ # Check for dangerous function calls that may lead to security vulnerabilities.
â”‚ â”‚   â””â”€ ! High complexity (14)
â”‚ â”‚   â””â”€ ! Too long (56 lines)
â”‚ â”‚   â””â”€ ! Deep nesting (depth 6)
â”‚ â”‚   â””â”€ ! Function exceeds 50 lines
â”‚ â”‚   â””â”€ ! High cyclomatic complexity (> 10)
â”‚ â”‚   â””â”€ ! High cognitive complexity (> 15)
â”‚ â”‚   â””â”€ ! Excessive nesting depth (> 4)
â”‚ â”‚   â””â”€ ! High cognitive load (> 7 items)
â”‚ â”‚   **Function**: â†’ _check_string_concat
â”‚ â”‚   â””â”€ # Check for string concatenation with SQL-like commands.
â”‚ â”‚   **Function**: â†’ _check_hardcoded_secrets
â”‚ â”‚   **Function**: â†’ _add_issue
â”‚ â””â”€ type_checker.py
â”‚     **Class**: â—† ValidationError
â”‚     â””â”€ ! Missing class docstring
â”‚     â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚     **Class**: â—† TypeValidator
â”‚     â””â”€ # A simple type validation system for runtime type checking.
â”‚     â””â”€ ! High complexity (11)
â”‚     **Class**: â—† ValidatedModel
â”‚     â””â”€ # Base class for type-validated models.
â”‚     â””â”€ ! Too few public methods (< 1, SOLID-ISP)
â”‚     **Function**: â†’ validate
â”‚     â””â”€ # Validate that a value matches its expected type.
â”‚     â””â”€ ! High complexity (11)
â”‚     â””â”€ ! High cyclomatic complexity (> 10)
â”‚     â””â”€ ! High cognitive load (> 7 items)
â”‚     **Function**: â†’ __post_init__
â”‚     â””â”€ # Validate types after initialization.
â”œâ”€ treeline.egg-info
â”‚ â”œâ”€ dependency_links.txt
â”‚ â”œâ”€ entry_points.txt
â”‚ â”œâ”€ PKG-INFO
â”‚ â”œâ”€ SOURCES.txt
â”‚ â””â”€ top_level.txt
â”œâ”€ .treeline-ignore
â”œâ”€ code_visualization.html
â”œâ”€ License
â”œâ”€ open_visualization.html
â”œâ”€ README.md
â”œâ”€ setup.py
â””â”€ tree.md
```

## Code Quality Metrics

### setup
- Functions: **0**
- Classes: **0**
- Complexity: **0**

### tests.test_core
- Functions: **4**
- Classes: **1**
- Complexity: **5**

### tests.test_empty_dir
- Functions: **1**
- Classes: **0**
- Complexity: **1**

### tests.test_missing_dir
- Functions: **1**
- Classes: **0**
- Complexity: **1**

### tests.test_nested_dir
- Functions: **1**
- Classes: **0**
- Complexity: **1**

### tests.test_security_detection
- Functions: **9**
- Classes: **1**
- Complexity: **11**

### tests.test_special_char
- Functions: **1**
- Classes: **0**
- Complexity: **1**

### tests.test_treeline
- Functions: **3**
- Classes: **1**
- Complexity: **3**

### treeline.__init__
- Functions: **1**
- Classes: **0**
- Complexity: **1**

### treeline.__main__
- Functions: **0**
- Classes: **0**
- Complexity: **0**

### treeline.analyzer
- Functions: **6**
- Classes: **6**
- Complexity: **32**

### treeline.core
- Functions: **9**
- Classes: **3**
- Complexity: **56**

### treeline.dependency_analyzer
- Functions: **11**
- Classes: **1**
- Complexity: **92**

### treeline.enhanced_analyzer
- Functions: **31**
- Classes: **1**
- Complexity: **123**

### treeline.security_analyzer
- Functions: **8**
- Classes: **1**
- Complexity: **46**

### treeline.type_checker
- Functions: **2**
- Classes: **3**
- Complexity: **14**

## Complexity Hotspots

### generate_html_visualization
- **Module**: treeline.dependency_analyzer
- **Complexity**: 18

### generate_module_detail_diagram
- **Module**: treeline.dependency_analyzer
- **Complexity**: 17

### _analyze_module
- **Module**: treeline.dependency_analyzer
- **Complexity**: 15

### format_structure
- **Module**: treeline.enhanced_analyzer
- **Complexity**: 15

### generate_summary_report
- **Module**: treeline.dependency_analyzer
- **Complexity**: 14

### _check_all_dangerous_calls
- **Module**: treeline.security_analyzer
- **Complexity**: 14

### _analyze_file_metrics
- **Module**: treeline.enhanced_analyzer
- **Complexity**: 13

### format_structure
- **Module**: treeline.core
- **Complexity**: 13

### generate_tree
- **Module**: treeline.core
- **Complexity**: 13

### validate
- **Module**: treeline.type_checker
- **Complexity**: 11

